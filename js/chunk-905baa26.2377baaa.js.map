{"version":3,"sources":["webpack:///./src/views/pages/MusicEditor.vue?1f64","webpack:///./src/views/pages/MusicEditor.vue?f4c3","webpack:///src/views/pages/MusicEditor.vue","webpack:///./src/views/pages/MusicEditor.vue?c1fc","webpack:///./src/views/pages/MusicEditor.vue","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MusicEditor_vue_vue_type_style_index_0_id_578bf31e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MusicEditor_vue_vue_type_style_index_0_id_578bf31e_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","attrs","active","isLoading","on","update:active","$event","alt","src","width","_m","staticClass","action","submit","preventDefault","directives","name","rawName","value","formData","expression","class","is-invalid","errors","has","type","placeholder","id","data-vv-as","domProps","input","target","composing","$set","_v","_s","first","_e","tempDom","errorInput","data-toggle","data-target","_l","item","index","key","click","style","backgroundImage","rows","disabled","uploadDone","editPost","tabindex","role","aria-hidden","aria-label","aria-describedby","selectType","length","checked","Array","isArray","_i","change","$$a","$$el","$$c","$$v","$$i","concat","slice","for","data-dismiss","data-backdrop","data-keyboard","imgurl","multiple","accept","preview","uploadImg","staticRenderFns","onclick","MusicEditorvue_type_script_lang_js_","props","data","bio","cover","filterInput","filterItem","uploadText","alldataDone","tempData","options","watch","tempDom.filterInput","handler","val","vm","map","array","indexOf","tempDom.selectType","forEach","push","formData.bio","textarea","document","getElementById","adjustedHeight","clientHeight","Math","max","scrollHeight","height","methods","getData","url","$http","post","userData","uid","$route","params","then","response","poster_uid","catch","alert","e","file","files","URL","createObjectURL","cvs","newImg","imgNewWidth","canvas","createElement","img","Image","context","getContext","imgfile","jquery_default","imgH","imgW","imgNewHeight","clearRect","drawImage","toDataURL","timestamp","Number","Date","fileName","toString","storageRef","index_cjs_default","a","storage","ref","dataURLtoFile","put","snapshot","getDownloadURL","downloadURL","modal","error","console","log","dataurl","filename","arr","split","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","File","$validator","validate","result","sendPostAPI","$router","newformData","artist","displayName","reqData","success","created","window","onbeforeunload","returnValue","beforeRouteLeave","to","from","next","answer","confirm","pages_MusicEditorvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get"],"mappings":"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","file":"js/chunk-905baa26.2377baaa.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicEditor.vue?vue&type=style&index=0&id=578bf31e&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicEditor.vue?vue&type=style&index=0&id=578bf31e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('img',{attrs:{\"alt\":\"Meason\",\"src\":require(\"../../assets/img/loading.svg\"),\"width\":\"100\"}})]),_vm._m(0),_c('div',{staticClass:\"form\"},[_c('form',{attrs:{\"action\":\"\"},on:{\"submit\":function($event){$event.preventDefault();}}},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"form-group\"},[_vm._m(1),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.name),expression:\"formData.name\"},{name:\"validate\",rawName:\"v-validate\",value:('required|max:50'),expression:\"'required|max:50'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('title')},attrs:{\"type\":\"text\",\"placeholder\":\"請輸入音樂名稱\",\"id\":\"title\",\"name\":\"title\",\"data-vv-as\":\"音樂名稱\"},domProps:{\"value\":(_vm.formData.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"name\", $event.target.value)}}}),(_vm.errors.has('title'))?_c('p',{staticClass:\"text-danger mt-1 small\"},[_vm._v(\"\\n              \"+_vm._s(_vm.errors.first('title'))+\"\\n            \")]):_vm._e()])]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_vm._m(2),_c('button',{staticClass:\"form-control typeText\",class:{'is-invalid': _vm.tempDom.errorInput === 'type'},attrs:{\"type\":\"button\",\"id\":\"type\",\"data-toggle\":\"modal\",\"data-target\":\"#type-modal\"}},[(!_vm.formData.type[0])?_c('span',[_vm._v(\"選擇作品類型\")]):_vm._e(),_c('p',{staticClass:\"texts\"},_vm._l((_vm.formData.type),function(item,index){return _c('span',{key:index},[_vm._v(_vm._s(item))])}),0)]),(_vm.tempDom.errorInput === 'type')?_c('p',{staticClass:\"text-danger mt-1 small\"},[_vm._v(\"未選擇樂手\")]):_vm._e()])]),_c('div',{staticClass:\"col-md-6\"},[_c('div',{staticClass:\"form-group\"},[_vm._m(3),_c('button',{staticClass:\"form-control\",class:{'is-invalid': _vm.tempDom.errorInput === 'photo'},attrs:{\"id\":\"photos\",\"data-toggle\":\"modal\",\"data-target\":\"#upload-img\"},on:{\"click\":function($event){_vm.tempDom.errorInput = null}}},[(_vm.formData.cover)?_c('article',[_c('div',{style:({backgroundImage: (\"url(\" + (_vm.formData.cover) + \")\")})}),_vm._v(\" 作品封面\\n              \")]):_c('span',[_vm._v(\"選擇圖片\")])]),(_vm.tempDom.errorInput === 'photo')?_c('p',{staticClass:\"text-danger mt-1 small\"},[_vm._v(\"未選擇圖片\")]):_vm._e()])]),_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"form-group\"},[_vm._m(4),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.bio),expression:\"formData.bio\"},{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"}],staticClass:\"form-control\",class:{'is-invalid': _vm.errors.has('bio')},attrs:{\"rows\":\"10\",\"placeholder\":\"可在此填寫創作理念、歌詞等作品相關介紹\",\"name\":\"bio\",\"id\":\"bio\",\"data-vv-as\":\"介紹\"},domProps:{\"value\":(_vm.formData.bio)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"bio\", $event.target.value)}}})]),(_vm.errors.has('bio'))?_c('p',{staticClass:\"text-danger mt-1 small\"},[_vm._v(\"\\n            \"+_vm._s(_vm.errors.first('bio'))+\"\\n          \")]):_vm._e()]),_vm._m(5),_c('div',{staticClass:\"col-lg-12 mt-5 mb-5\"},[_c('button',{staticClass:\"btn btn-primary form-control\",attrs:{\"disabled\":!_vm.tempDom.uploadDone},on:{\"click\":function($event){return _vm.editPost()}}},[_vm._v(\"更新貼文\")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"type-modal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(6),_c('div',{staticClass:\"modal-body\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"input-group mb-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempDom.filterInput),expression:\"tempDom.filterInput\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"♫ Search\",\"aria-label\":\"\",\"aria-describedby\":\"basic-addon1\"},domProps:{\"value\":(_vm.tempDom.filterInput)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.tempDom, \"filterInput\", $event.target.value)}}})])])]),_c('div',{staticClass:\"row\",attrs:{\"id\":\"instrumentItem\"}},_vm._l((_vm.tempDom.filterItem),function(item,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item),expression:\"item\"}],key:index,staticClass:\"col-md-4 col-sm-4 col-6\"},[_c('div',{staticClass:\"radio\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tempDom.selectType[index]),expression:\"tempDom.selectType[index]\"}],attrs:{\"type\":\"checkbox\",\"name\":\"radio\",\"disabled\":_vm.formData.type.length >= 3 && !_vm.tempDom.selectType[index],\"id\":(\"radio\" + index)},domProps:{\"value\":item,\"checked\":Array.isArray(_vm.tempDom.selectType[index])?_vm._i(_vm.tempDom.selectType[index],item)>-1:(_vm.tempDom.selectType[index])},on:{\"change\":function($event){var $$a=_vm.tempDom.selectType[index],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=item,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.tempDom.selectType, index, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.tempDom.selectType, index, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.tempDom.selectType, index, $$c)}}}}),_c('label',{attrs:{\"for\":(\"radio\" + index)}},[_vm._v(\"\\n                  \"+_vm._s(item)+\"\\n                \")])])])}),0),(_vm.formData.type.length >= 3)?_c('p',{staticClass:\"text-primary mt-1 small\"},[_vm._v(\"\\n            最多只能選三項\\n          \")]):_vm._e()]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"},on:{\"click\":function($event){_vm.tempDom.errorInput = null}}},[_vm._v(\"選擇完成\")])])])])]),_c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"upload-img\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-hidden\":\"true\",\"data-backdrop\":\"false\",\"data-keyboard\":\"false\"}},[_c('div',{staticClass:\"modal-dialog modal-dialog-centered modal-lg\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(7),_c('div',{staticClass:\"modal-body\"},[_c('label',{staticClass:\"files\",attrs:{\"for\":\"file-input\"}},[(!_vm.tempDom.imgurl || _vm.errors.has('photo'))?_c('img',{staticClass:\"select-img\",attrs:{\"src\":require(\"../../assets/img/bg/images-select.svg\"),\"alt\":\"音樂封面選擇\"}}):_c('div',{staticClass:\"img-preview\"},[_c('img',{attrs:{\"src\":_vm.tempDom.imgurl,\"id\":\"scream\"}})]),_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('size:5000|ext:jpg,png'),expression:\"'size:5000|ext:jpg,png'\"}],attrs:{\"type\":\"file\",\"name\":\"photo\",\"id\":\"file-input\",\"multiple\":\"true\",\"accept\":\"image/*\",\"data-vv-as\":\"圖片檔案\"},on:{\"change\":_vm.preview}}),(_vm.errors.has('photo'))?_c('p',{staticClass:\"text-danger mt-1 small\"},[_vm._v(\"\\n              請選擇小於 5MB 的圖片\\n            \")]):_vm._e()])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"取消\")]),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\",\"disabled\":_vm.errors.has('photo')},on:{\"click\":function($event){return _vm.uploadImg()}}},[_vm._v(\"\\n            上傳圖片\\n          \")])])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user-title\"},[_c('button',{staticClass:\"btn btn-outline-secondary btn-sm\",attrs:{\"type\":\"button\",\"onclick\":\"window.history.back();\"}},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('h2',[_c('i',{staticClass:\"fas fa-plus-circle\"}),_vm._v(\" 發布音樂作品\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"title\"}},[_c('i',{staticClass:\"fas fa-music\"}),_vm._v(\"音樂名稱\"),_c('b',[_vm._v(\"*\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"type\"}},[_c('i',{staticClass:\"fas fa-music\"}),_vm._v(\"選擇類型\"),_c('b',[_vm._v(\"*\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"photos\"}},[_c('i',{staticClass:\"fas fa-music\"}),_vm._v(\"作品封面\"),_c('b',[_vm._v(\"*\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('label',{attrs:{\"for\":\"bio\"}},[_c('i',{staticClass:\"fas fa-music\"}),_vm._v(\"作品介紹 / 歌詞\"),_c('b',[_vm._v(\"*\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-md-12\"},[_c('label',{attrs:{\"for\":\"song\"}},[_c('i',{staticClass:\"fas fa-music\"}),_vm._v(\"音樂作品檔案\"),_c('b',[_vm._v(\"*\")])]),_c('p',{staticClass:\"text-success ml-3\"},[_vm._v(\"\\n            為公平起見，音樂作品檔案不提供更換。\\n            \"),_c('span',{staticClass:\"text-dark\"},[_vm._v(\"如需更換，請重新發佈音樂作品\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"\\n            選擇類型\\n          \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"\\n            選擇音樂封面\\n          \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\">\r\n      <img alt=\"Meason\" src=\"../../assets/img/loading.svg\" width=\"100\">\r\n    </loading>\r\n    <div class=\"user-title\">\r\n      <button class=\"btn btn-outline-secondary btn-sm\" type=\"button\" onclick=\"window.history.back();\">\r\n        <i class=\"fas fa-arrow-left\"></i>\r\n      </button>\r\n      <h2><i class=\"fas fa-plus-circle\"></i> 發布音樂作品</h2>\r\n    </div>\r\n    <div class=\"form\">\r\n      <form action=\"\" @submit.prevent=\"\">\r\n        <div class=\"row\">\r\n          <div class=\"col-md-12\">\r\n            <div class=\"form-group\">\r\n              <label for=\"title\"><i class=\"fas fa-music\"></i>音樂名稱<b>*</b></label>\r\n              <input type=\"text\" class=\"form-control\" placeholder=\"請輸入音樂名稱\"\r\n                id=\"title\" name=\"title\" data-vv-as=\"音樂名稱\"\r\n                :class=\"{'is-invalid': errors.has('title')}\"\r\n                v-model=\"formData.name\" v-validate=\"'required|max:50'\">\r\n              <p class=\"text-danger mt-1 small\" v-if=\"errors.has('title')\">\r\n                {{ errors.first('title') }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <div class=\"form-group\">\r\n              <label for=\"type\"><i class=\"fas fa-music\"></i>選擇類型<b>*</b></label>\r\n              <button type=\"button\" class=\"form-control typeText\" id=\"type\"\r\n                :class=\"{'is-invalid': tempDom.errorInput === 'type'}\"\r\n                data-toggle=\"modal\" data-target=\"#type-modal\">\r\n                <span v-if=\"!formData.type[0]\">選擇作品類型</span>\r\n                <p class=\"texts\">\r\n                  <span v-for=\"(item, index) in formData.type\" :key=\"index\">{{item}}</span>\r\n                </p>\r\n              </button>\r\n              <p class=\"text-danger mt-1 small\"\r\n                v-if=\"tempDom.errorInput === 'type'\">未選擇樂手</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-6\">\r\n            <div class=\"form-group\">\r\n              <label for=\"photos\"><i class=\"fas fa-music\"></i>作品封面<b>*</b></label>\r\n              <button class=\"form-control\" id=\"photos\"\r\n                :class=\"{'is-invalid': tempDom.errorInput === 'photo'}\"\r\n                @click=\"tempDom.errorInput = null\"\r\n                data-toggle=\"modal\" data-target=\"#upload-img\">\r\n                <article v-if=\"formData.cover\">\r\n                  <div :style=\"{backgroundImage: `url(${formData.cover})`}\"></div> 作品封面\r\n                </article>\r\n                <span v-else>選擇圖片</span>\r\n              </button>\r\n              <p class=\"text-danger mt-1 small\"\r\n                v-if=\"tempDom.errorInput === 'photo'\">未選擇圖片</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-md-12\">\r\n            <div class=\"form-group\">\r\n              <label for=\"bio\"><i class=\"fas fa-music\"></i>作品介紹 / 歌詞<b>*</b></label>\r\n              <textarea rows=\"10\" class=\"form-control\" placeholder=\"可在此填寫創作理念、歌詞等作品相關介紹\"\r\n                name=\"bio\" id=\"bio\" data-vv-as=\"介紹\"\r\n                :class=\"{'is-invalid': errors.has('bio')}\"\r\n                v-model=\"formData.bio\" v-validate=\"'required'\"></textarea>\r\n            </div>\r\n            <p class=\"text-danger mt-1 small\" v-if=\"errors.has('bio')\">\r\n              {{ errors.first('bio') }}\r\n            </p>\r\n          </div>\r\n          <div class=\"col-md-12\">\r\n            <label for=\"song\"><i class=\"fas fa-music\"></i>音樂作品檔案<b>*</b></label>\r\n            <p class=\"text-success ml-3\">\r\n              為公平起見，音樂作品檔案不提供更換。\r\n              <span class=\"text-dark\">如需更換，請重新發佈音樂作品</span>\r\n            </p>\r\n          </div>\r\n          <div class=\"col-lg-12 mt-5 mb-5\">\r\n            <button class=\"btn btn-primary form-control\"\r\n             @click=\"editPost()\" :disabled=\"!tempDom.uploadDone\">更新貼文</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"type-modal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n      <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">\r\n              選擇類型\r\n            </h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-12\">\r\n                <div class=\"input-group mb-3\">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"♫ Search\" \r\n                    aria-label=\"\" aria-describedby=\"basic-addon1\" v-model=\"tempDom.filterInput\">\r\n                </div>\t\r\n              </div>\r\n            </div>\r\n            <div class=\"row\" id=\"instrumentItem\">\r\n              <div class=\"col-md-4 col-sm-4 col-6\" \r\n                v-for=\"(item, index) in tempDom.filterItem\" :key=\"index\"\r\n                v-show=\"item\">\r\n                <div class=\"radio\">\r\n                  <input type=\"checkbox\" name=\"radio\"\r\n                    :disabled=\"formData.type.length >= 3 && !tempDom.selectType[index]\"\r\n                    v-model=\"tempDom.selectType[index]\" :id=\"`radio${index}`\" :value=\"item\">\r\n                  <label :for=\"`radio${index}`\">\r\n                    {{item}}\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <p class=\"text-primary mt-1 small\" v-if=\"formData.type.length >= 3\">\r\n              最多只能選三項\r\n            </p>\r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\"\r\n              @click=\"tempDom.errorInput = null\">選擇完成</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <!-- 上傳圖片 Modal -->\r\n    <div class=\"modal fade\" id=\"upload-img\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"\r\n      data-backdrop=\"false\" data-keyboard=\"false\">\r\n      <div class=\"modal-dialog modal-dialog-centered modal-lg\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-header\">\r\n            <h5 class=\"modal-title\">\r\n              選擇音樂封面\r\n            </h5>\r\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n              <span aria-hidden=\"true\">&times;</span>\r\n            </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n            <label for=\"file-input\" class=\"files\">\r\n              <img src=\"../../assets/img/bg/images-select.svg\" alt=\"音樂封面選擇\" \r\n                v-if=\"!tempDom.imgurl || errors.has('photo')\" class=\"select-img\">\r\n              <div class=\"img-preview\" v-else>\r\n                <img :src=\"tempDom.imgurl\" id=\"scream\"/>\r\n              </div>                  \r\n              <input type=\"file\" name=\"photo\" id=\"file-input\"\r\n                multiple=\"true\" accept=\"image/*\" @change=\"preview\"\r\n                v-validate=\"'size:5000|ext:jpg,png'\" data-vv-as=\"圖片檔案\">\r\n              <p class=\"text-danger mt-1 small\" v-if=\"errors.has('photo')\">\r\n                請選擇小於 5MB 的圖片\r\n              </p>\r\n            </label>  \r\n          </div>\r\n          <div class=\"modal-footer\">\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">取消</button>\r\n            <button type=\"button\" class=\"btn btn-primary\"\r\n              :disabled=\"errors.has('photo')\"\r\n              @click=\"uploadImg()\">\r\n              上傳圖片\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firebase from 'firebase';\r\nimport $ from 'jquery';\r\n\r\nexport default {\r\n  props: ['userData'],\r\n  data() {\r\n    return {\r\n      isLoading: false,\r\n      formData:{\r\n        name: '',\r\n        type: [],\r\n        bio: '',\r\n        cover: ''\r\n      },\r\n      tempDom: {\r\n        errorInput: '',\r\n        filterInput: '',\r\n        filterItem: ['COVER', '電音', '搖滾', '民謠'],\r\n        selectType: [],\r\n        imgurl: '',\r\n        uploadText: '',\r\n        uploadDone: true,\r\n        alldataDone: false,\r\n      },\r\n      tempData: {\r\n        options: ['COVER', '電音', '搖滾', '民謠'],\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    'tempDom.filterInput': {\r\n      handler: function filterItems(val) {\r\n        const vm = this;\r\n        vm.tempDom.filterItem = vm.tempData.options.map(function(item, index, array){\r\n          if (item.indexOf(val) !== -1) {\r\n            return item;\r\n          }\r\n           return false;\r\n        });\r\n      }\r\n    },\r\n    'tempDom.selectType': {\r\n      handler: function selectType(val) {\r\n        const vm = this;\r\n        vm.formData.type = [];\r\n        val.forEach(function(item, index){\r\n          if(item) {\r\n            vm.formData.type.push(vm.tempData.options[index])\r\n          }\r\n        });\r\n      }\r\n    },\r\n    'formData.bio': {\r\n      handler: function autogrow(val) {\r\n        const textarea = document.getElementById('bio');\r\n        let adjustedHeight = textarea.clientHeight;\r\n        adjustedHeight = Math.max(textarea.scrollHeight,adjustedHeight);\r\n        if (adjustedHeight > textarea.clientHeight) {\r\n          textarea.style.height=adjustedHeight+'px';\r\n        }\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    getData() {\r\n      const vm = this;\r\n      const url = `${process.env.VUE_APP_API}/getData`;\r\n      vm.$http.post(url, {\"url\": `users/${vm.userData.uid}/music/${vm.$route.params.id}`})\r\n      .then((response) => {\r\n        if(response.data.poster_uid === vm.userData.uid){\r\n          vm.formData = response.data;\r\n        }        \r\n      })\r\n      .catch(() => {\r\n        alert('取得資料失敗，請聯絡客服人員')\r\n      })\r\n    },\r\n    preview(e) {\r\n      const vm = this;\r\n      const file = e.target.files[0];\r\n      vm.tempDom.imgurl = URL.createObjectURL(file);\r\n    },\r\n    cvs() {\r\n      const vm = this;\r\n      let imgNewWidth = 600, // 圖片新寬度\r\n      canvas = document.createElement(\"canvas\"),\r\n      img = new Image(),\r\n      context = canvas.getContext(\"2d\");\r\n      \r\n      let imgfile = $('#scream'),\r\n      imgH = imgfile.height(),\r\n      imgW = imgfile.width(),\r\n      imgNewHeight = imgNewWidth * imgH / imgW, // 圖片新高度\r\n      newImg\r\n\r\n      img.src = vm.tempDom.imgurl;\r\n      canvas.width = imgNewWidth;\r\n      canvas.height = imgNewHeight;\r\n      context.clearRect(0, 0, imgNewWidth, imgNewHeight);\r\n      context.drawImage(img, 0, 0, imgNewWidth, imgNewHeight); // 調整圖片尺寸\r\n      newImg = canvas.toDataURL(\"image/jpeg\", 1);\r\n      return newImg\r\n    },\r\n    uploadImg() {\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      var timestamp = Number(new Date()); // 檔名設定\r\n      let fileName = timestamp.toString() + vm.userData.uid;\r\n      var storageRef = firebase.storage().ref('music_photo/' + fileName); //資料夾+黨名\r\n      var file = vm.dataURLtoFile(vm.cvs(), 'fileName');\r\n      storageRef.put(file)\r\n      .then((snapshot) => {\r\n        // 取得圖片位置\r\n        snapshot.ref.getDownloadURL().then(function(downloadURL) {\r\n          vm.formData.cover = downloadURL;\r\n          $('#upload-img').modal('hide');\r\n          vm.isLoading = false;\r\n        });\r\n      })\r\n      .catch((error) => {\r\n        alert('上傳失敗，請重新整理後重試');\r\n        console.log(error)\r\n      });\r\n    },\r\n    dataURLtoFile(dataurl, filename) {\r\n      var arr = dataurl.split(','), mime = arr[0].match(/:(.*?);/)[1],\r\n        bstr = atob(arr[1]), n = bstr.length, u8arr = new Uint8Array(n);\r\n      while(n--){\r\n        u8arr[n] = bstr.charCodeAt(n);\r\n      }\r\n      return new File([u8arr], filename, {type:mime});\r\n    },\r\n    editPost() {\r\n      const vm = this;      \r\n      this.$validator.validate().then((result) => {\r\n        if (result) {\r\n          // do stuff if not valid.          \r\n          if (!vm.formData.type[0]) {\r\n            vm.tempDom.errorInput = 'type';\r\n          } else if(!vm.formData.cover) {\r\n            vm.tempDom.errorInput = 'photo';\r\n          } else {\r\n            // 確保有登入\r\n            vm.tempDom.alldataDone = true;\r\n            if(vm.userData){\r\n              vm.sendPostAPI();\r\n            } else {\r\n              alert('會員登入狀況出現錯誤，請重新登入');\r\n              vm.$router.push('/');\r\n            }\r\n          }\r\n        } else {\r\n          console.log('欄位不完整')\r\n        }\r\n      });\r\n    },\r\n    sendPostAPI() {\r\n      const vm = this;\r\n      vm.isLoading = true;\r\n      const url = `${process.env.VUE_APP_API}/editMusicData`;\r\n      const newformData = {\r\n        artist: vm.userData.displayName,\r\n        bio: vm.formData.bio,\r\n        type: vm.formData.type,\r\n        cover: vm.formData.cover,\r\n        poster_uid: vm.formData.poster_uid,\r\n        name: vm.formData.name,\r\n        id: vm.formData.id,\r\n      }\r\n      this.$http.post(url, {\"reqData\": newformData}).then((response) => {\r\n        if(response.data.success) {\r\n          vm.isLoading = false;\r\n          vm.$router.push('/user/profile');\r\n        }\r\n      })\r\n      .catch(function(error){\r\n        console.error(\"寫入錯誤\",error);\r\n        alert('更新失敗，請稍後再重試，或聯繫迷聲客服中心');\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    const vm = this;\r\n    vm.getData();\r\n    window.onbeforeunload = (e) => {\r\n      e.returnValue = '離開後不會保存內容';\r\n    };\r\n  },\r\n  beforeRouteLeave (to, from , next) {\r\n    if(!this.tempDom.alldataDone) {\r\n      const answer = window.confirm('確定要離開嗎？系統不會保存目前內容')\r\n      if (answer) {\r\n        next()\r\n      } else {\r\n        next(false)\r\n      }\r\n    } else {\r\n      next()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.typeText{\r\n  .texts{\r\n    span{\r\n      margin-left: 10px;\r\n      &:first-child{\r\n        margin-left: 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n#upload-img{\r\n  background-color: rgba(0,0,0,0.5);\r\n}\r\ntextarea{\r\n  resize: none;\r\n  &::-webkit-scrollbar {\r\n    width: 0px;\r\n  }\r\n  &::-webkit-scrollbar-track {\r\n    background: transparent\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: transparent;\r\n  }\r\n  &::-webkit-scrollbar-thumb:hover {\r\n    background-color: transparent;\r\n  }\r\n}\r\n\r\n.files{\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  margin: 30px 0;\r\n  cursor: pointer;\r\n  input{\r\n    border-radius: 5px;\r\n    border: 1px solid #ccc;\r\n    margin-top: 10px;\r\n    padding: 5px;\r\n    max-width: 100%;\r\n  }\r\n  .select-img{\r\n    width: 225px;\r\n  }\r\n  .img-preview{\r\n    height: 300px;\r\n    width: 100%;\r\n    overflow: hidden;\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    border: 1px dashed #ccc;\r\n    border-radius: 5px;\r\n    img{\r\n      max-width: 600px;\r\n      position: absolute;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicEditor.vue?vue&type=template&id=578bf31e&scoped=true&\"\nimport script from \"./MusicEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicEditor.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MusicEditor.vue?vue&type=style&index=0&id=578bf31e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"578bf31e\",\n  null\n  \n)\n\nexport default component.exports","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}