(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5295ba56"],{1057:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAXCAYAAAB50g0VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5NUNBREI4QjVBODExRTk5QTZBOTgwMUYxQTRBODA4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5NUNBREI5QjVBODExRTk5QTZBOTgwMUYxQTRBODA4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTk1Q0FEQjZCNUE4MTFFOTlBNkE5ODAxRjFBNEE4MDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTk1Q0FEQjdCNUE4MTFFOTlBNkE5ODAxRjFBNEE4MDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5DtXUFAAAALklEQVR42uzOMQEAAAgDILV/59nA2wMS0Enqs6nnBAUFBQUFBQUFBQUFBQ8rwACRXQMrSS2EtwAAAABJRU5ErkJggg=="},"5cf7":function(t,a,e){},"8ff0":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return t.userData?i("div",{staticClass:"row music-scrollCon"},[t.dom.login?i("Login"):t._e(),i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[i("img",{attrs:{alt:"Meason",src:e("333e"),width:"100"}})]),t.songList?t._e():i("div",{staticClass:"col-12"},[t._v("暫無資料")]),t._l(t.songList,function(a,s){return i("div",{key:a.id+s,staticClass:"col-xl-3 col-lg-3 col-md-4 col-sm-6"},[t.userData?i("a",{staticClass:"song-likes",attrs:{href:"#",title:"加入最愛"},domProps:{innerHTML:t._s(t.comLike(a.like))},on:{click:function(e){return e.preventDefault(),t.liked(a,s)}}}):i("a",{staticClass:"song-likes",attrs:{href:"#",title:"加入最愛"},on:{click:function(a){a.preventDefault(),t.dom.login=!0,t.dom.opened=!1}}},[i("i",{staticClass:"far fa-heart"})]),i("div",{staticClass:"music-con"},[i("div",{staticClass:"photo",class:{playing:t.player.id===a.id},style:{backgroundImage:"url("+a.cover+")"},on:{click:function(a){return t.togglePlay(s)}}},[i("img",{attrs:{src:e("1057"),width:"100%",alt:""}}),t._m(0,!0),i("p",{staticClass:"views"},[t._v(t._s(a.view)+" "),i("small",[t._v("瀏覽")])])]),i("div",{staticClass:"text"},[i("router-link",{attrs:{to:"/music/"+a.id,tag:"h3"}},[t._v(t._s(a.name))]),i("h4",{staticClass:"type"},[i("i",{staticClass:"fas fa-music"}),i("p",{staticClass:"type"},t._l(a.type,function(a){return i("span",{key:a},[t._v(t._s(a))])}),0)])],1),i("div",{staticClass:"artist"},[i("router-link",{attrs:{to:"/user",title:a.artist}},[i("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(a.artist)+"\n        ")]),a.like?i("span",[t._v(t._s(a.like.length)+" 收藏")]):t._e()],1)])])}),i("div",{staticClass:"modal fade",attrs:{id:"filter-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(1),i("div",{staticClass:"modal-body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-12"},[i("div",{staticClass:"input-group mb-3"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.filterInput,expression:"tempDom.filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"♫ Search","aria-label":"","aria-describedby":"basic-addon1"},domProps:{value:t.tempDom.filterInput},on:{input:function(a){a.target.composing||t.$set(t.tempDom,"filterInput",a.target.value)}}})])])]),i("div",{staticClass:"row",attrs:{id:"instrumentItem"}},t._l(t.tempDom.filterItem,function(a,e){return i("div",{directives:[{name:"show",rawName:"v-show",value:a,expression:"item"}],key:e,staticClass:"col-md-4 col-sm-4 col-6"},[i("div",{staticClass:"radio"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.selectType,expression:"tempDom.selectType"}],attrs:{type:"radio",name:"radio",id:"radio"+e},domProps:{value:a,checked:t._q(t.tempDom.selectType,a)},on:{change:function(e){return t.$set(t.tempDom,"selectType",a)}}}),i("label",{attrs:{for:"radio"+e}},[t._v("\n                  "+t._s(a)+"\n                ")])])])}),0)]),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){return t.filterData()}}},[t._v("確定")])])])])])],2):t._e()},s=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"click"},[e("i",{staticClass:"far fa-play-circle"})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("快速篩選")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],n=(e("8615"),e("456d"),e("ac6a"),e("8aa5"),e("1157")),o=e.n(n),l=e("578a"),c={name:"AllSong",props:["userData"],data:function(){return{isLoading:!1,dom:{login:!1,opened:!1},player:{id:"",pause:!1},songList:null,tempDom:{deleteOpen:!1,filterInput:"",filterItem:["全部","編曲/作詞","COVER","搖滾","貝斯手","電子琴手","提琴樂手","電吉他手","木吉他手","爵士鼓手","鋼琴手","木箱鼓手","DJ","B-BOX夥伴","阿卡貝拉夥伴","長笛手","薩克斯風樂手","木管樂手","銅管樂手(法國號,小號,低音大號,長號等)","吹管類樂手(笛,蕭,嗩吶,笙)","彈拔類樂手(琵琶,箏,揚琴,中阮)","拉弦類樂手(胡)","打擊鼓手(大鼓,小軍鼓)","其他"]},tempData:{allData:[],firstPlay:!0,options:["全部","編曲/作詞","COVER","搖滾","貝斯手","電子琴手","提琴樂手","電吉他手","木吉他手","爵士鼓手","鋼琴手","木箱鼓手","DJ","B-BOX夥伴","阿卡貝拉夥伴","長笛手","薩克斯風樂手","木管樂手","銅管樂手(法國號,小號,低音大號,長號等)","吹管類樂手(笛,蕭,嗩吶,笙)","彈拔類樂手(琵琶,箏,揚琴,中阮)","拉弦類樂手(胡)","打擊鼓手(大鼓,小軍鼓)","其他"]}}},watch:{"tempDom.filterInput":{handler:function(t){var a=this;a.tempDom.filterItem=a.tempData.options.map(function(a,e,i){return-1!==a.indexOf(t)&&a})}}},components:{Login:l["a"]},methods:{togglePlay:function(t){var a=this,e=[];a.player.pause&&a.songList[t].id===a.player.id?(this.$bus.$emit("audio:pause"),a.player.pause=!1,a.player.id=""):a.tempData.firstPlay?(a.songList.forEach(function(t){e.push(t)}),e.unshift(a.songList[t]),e.splice(t+1,1),this.$bus.$emit("audio:list",e),a.player.pause=!0,a.tempData.firstPlay=!1):(this.$bus.$emit("audio:play",a.songList[t]),a.player.pause=!0)},getloveSong:function(){var t=this,a="".concat("https://glacial-bayou-94392.herokuapp.com","/getLoveSong");t.isLoading=!0,t.$http.post(a,{id:t.userData.uid}).then(function(a){a.data[0]?t.getMusicData():t.songList=null,t.isLoading=!1})},getMusicData:function(){var t=this,a=this,e="".concat("https://glacial-bayou-94392.herokuapp.com","/getLoveSong"),i=null;a.$http.post(e,{id:a.userData.uid}).then(function(t){i=t.data,a.isLoading=!1}).then(function(t){i.forEach(function(t){t.like&&(t.like=Object.keys(t.like))})}).then(function(t){i.forEach(function(t){t.type&&(t.type=Object.values(t.type))})}).then(function(){t.$bus.$emit("audio:newList",i),a.tempData.allData=i,a.tempDom.selectType?a.filterData():a.songList=i}).catch(function(t){a.isLoading=!1})},comLike:function(t){var a=this,e=a.userData.uid,i="";return i=Array.isArray(t)&&-1!==t.indexOf(e)?'<i class="fas fa-heart"></i>':'<i class="far fa-heart"></i>',i},liked:function(t,a){var e=this,i=e.userData.uid;e.userData&&(t.like&&-1!==t.like.indexOf(i)?e.sendLikeAPI(t,"unlike"):e.sendLikeAPI(t,"likes"))},sendLikeAPI:function(t,a){var e=this,i="".concat("https://glacial-bayou-94392.herokuapp.com","/likeMusic"),s={method:a,userId:e.userData.uid,musicId:t.id,posterId:t.poster_uid};e.$http.post(i,{reqData:s}).then(function(t){t.data.success&&e.getloveSong()})},scrollEvent:function(){var t=document.querySelector(".music").scrollTop,a=o()(".music").height()||document.body.clientHeight,e=parseInt(t+a),i=parseInt(o()(".music-scrollCon").height(),10)+71;e===i&&console.log(e,i)},filterData:function(){var t=this;if("全部"!==t.tempDom.selectType){var a=t.tempData.allData.filter(function(a){return t.ArrIndexOf(a.type)});t.songList=a}else t.songList=t.tempData.allData},ArrIndexOf:function(t){var a=this;return-1!==t.indexOf(a.tempDom.selectType)}},created:function(){var t=this;t.getloveSong(),t.$bus.$on("current:id",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.player.id=a}),t.$bus.$on("current:pause",function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.player.id="",t.player.pause=!1}),t.$bus.$on("close:login",function(a){t.dom.login=a}),t.$bus.$on("add:view",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.songList.forEach(function(e,i){e.id===a.id&&(t.songList[i].view=a.num)})})}},r=c,u=(e("ed83"),e("2877")),d=Object(u["a"])(r,i,s,!1,null,"53feb95b",null);a["default"]=d.exports},ed83:function(t,a,e){"use strict";var i=e("5cf7"),s=e.n(i);s.a}}]);
//# sourceMappingURL=chunk-5295ba56.5e99e1ea.js.map