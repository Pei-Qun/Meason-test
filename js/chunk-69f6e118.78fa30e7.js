(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-69f6e118"],{b084:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"container-fluid"},[t.tempDom.login?s("Login"):t._e(),s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[s("img",{attrs:{alt:"Meason",src:e("333e"),width:"100"}})]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 col-md-3 control"},[s("img",{staticClass:"left-menu-bg-img",attrs:{src:e("b9fd"),alt:"玩音樂"}}),s("div",{staticClass:"con"},[s("h2",[t._v("找夥伴")]),s("hr"),s("div",{staticClass:"selector sticky"},[t._m(0),t.userData?s("router-link",{staticClass:"btn btn-outline-light mt-2",attrs:{to:"/partner/creat",title:"發佈找夥伴文"}},[s("i",{staticClass:"fas fa-edit"}),t._v(" 發佈貼文\n          ")]):s("button",{staticClass:"btn btn-outline-light mt-2",attrs:{title:"發佈找夥伴文"},on:{click:function(a){t.tempDom.login=!0,t.tempDom.loginopened=!1}}},[s("i",{staticClass:"fas fa-edit"}),t._v(" 發佈貼文\n          ")])],1)])]),s("div",{staticClass:"col-lg-9 col-md-9 right-content"},[t.tempDom.selectCity||"全部"!==t.tempDom.selectNeed?s("h3",[t._v("\n        搜尋結果:　\n        "),t.tempDom.selectCity?s("b",{staticClass:"filter-result"},[t._v("\n          "+t._s(t.tempDom.selectCity)+"\n          "),s("span",{attrs:{"aria-hidden":"true"},on:{click:function(a){t.tempDom.selectCity=""}}},[t._v("×")])]):t._e(),"全部"!==t.tempDom.selectNeed?s("b",{staticClass:"filter-result"},[t._v("\n          "+t._s(t.tempDom.selectNeed)+"\n          "),s("span",{attrs:{"aria-hidden":"true"},on:{click:function(a){t.tempDom.selectNeed="全部"}}},[t._v("×")])]):t._e()]):t._e(),t.tempData.allData?s("div",{staticClass:"content-info"},t._l(t.showData,function(a){return s("div",{directives:[{name:"show",rawName:"v-show",value:a.display&&a.legal,expression:"item.display && item.legal"}],key:a.uid,staticClass:"content-item"},[s("router-link",{staticClass:"pic img-thumbnail",style:{backgroundImage:"url('"+a.picURL+"')"},attrs:{to:"partner/post/"+a.uid,title:a.title,tag:"div"}}),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[s("h4",[t._v(t._s(a.type))]),s("h3",[s("router-link",{attrs:{to:"partner/post/"+a.uid,title:a.title}},[t._v("\n                  "+t._s(a.title)+"\n                ")])],1)]),s("div",{staticClass:"summary"},[t._v("\n              簡介: "+t._s(a.bio.slice(0,70))+"\n              "),a.bio.length>70?s("span",[t._v("...")]):t._e()]),s("div",{staticClass:"else-info"},[s("article",[s("p",[s("i",{staticClass:"fas fa-map-marker-alt"}),s("span",[t._v(t._s(a.city))])]),s("p",[s("i",{staticClass:"fas fa-hand-paper"}),s("span",{staticClass:"need"},t._l(a.need,function(a){return s("span",{key:a},[t._v(t._s(a))])}),0)])]),s("a",{staticClass:"else-btn",attrs:{href:"#",title:"檢舉貼文"},on:{click:function(e){return e.preventDefault(),t.resetReportError(a.uid)}}},[s("i",{staticClass:"fas fa-ellipsis-h"}),s("p",{attrs:{"data-toggle":"modal","data-target":"#reportmodal"}},[t._v("檢舉")])])])])],1)}),0):t._e()])]),s("div",{staticClass:"modal fade",attrs:{id:"partner-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.filterInput,expression:"tempDom.filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"♫ Search","aria-label":"","aria-describedby":"basic-addon1"},domProps:{value:t.tempDom.filterInput},on:{input:function(a){a.target.composing||t.$set(t.tempDom,"filterInput",a.target.value)}}})])])]),s("div",{staticClass:"row",attrs:{id:"instrumentItem"}},t._l(t.tempDom.filterItem,function(a,e){return s("div",{directives:[{name:"show",rawName:"v-show",value:a,expression:"item"}],key:e,staticClass:"col-md-4 col-sm-4 col-6"},[s("div",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.selectNeed,expression:"tempDom.selectNeed"}],attrs:{type:"radio",name:"radio",id:"radio"+e},domProps:{value:a,checked:t._q(t.tempDom.selectNeed,a)},on:{change:function(e){return t.$set(t.tempDom,"selectNeed",a)}}}),s("label",{attrs:{for:"radio"+e}},[t._v("\n                  "+t._s(a)+"\n                ")])])])}),0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("hr"),s("div",{staticClass:"input-group mb-3 first"},[t._m(2),s("select",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.selectCity,expression:"tempDom.selectCity"}],staticClass:"custom-select",on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.tempDom,"selectCity",a.target.multiple?e:e[0])}}},[s("option",{attrs:{value:""}},[t._v("請選擇")]),s("option",{attrs:{value:"台北市"}},[t._v("台北市")]),s("option",{attrs:{value:"新北市"}},[t._v("新北市")]),s("option",{attrs:{value:"桃園縣"}},[t._v("桃園縣")]),s("option",{attrs:{value:"台中市"}},[t._v("台中市")]),s("option",{attrs:{value:"台南市"}},[t._v("台南市")]),s("option",{attrs:{value:"高雄市"}},[t._v("高雄市")]),s("option",{attrs:{value:"基隆市"}},[t._v("基隆市")]),s("option",{attrs:{value:"新竹縣"}},[t._v("新竹縣")]),s("option",{attrs:{value:"嘉義縣"}},[t._v("嘉義縣")]),s("option",{attrs:{value:"苗栗縣"}},[t._v("苗栗縣")]),s("option",{attrs:{value:"彰化縣"}},[t._v("彰化縣")]),s("option",{attrs:{value:"南投縣"}},[t._v("南投縣")]),s("option",{attrs:{value:"雲林縣"}},[t._v("雲林縣")]),s("option",{attrs:{value:"屏東縣"}},[t._v("屏東縣")]),s("option",{attrs:{value:"宜蘭縣"}},[t._v("宜蘭縣")]),s("option",{attrs:{value:"花蓮縣"}},[t._v("花蓮縣")]),s("option",{attrs:{value:"台東縣"}},[t._v("台東縣")]),s("option",{attrs:{value:"澎湖縣"}},[t._v("澎湖縣")]),s("option",{attrs:{value:"金門縣"}},[t._v("金門縣")])])])])])]),t._m(3)])])]),s("div",{staticClass:"modal fade",attrs:{id:"reportmodal","data-backdrop":"false",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body"},[s("form",[s("div",{staticClass:"form-group mb-0"},[t._m(4),s("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.reports.type,expression:"reports.type"}],staticClass:"custom-select mb-2",class:{"is-invalid":t.errors.has("違規性質")},attrs:{name:"違規性質"},on:{change:function(a){var e=Array.prototype.filter.call(a.target.options,function(t){return t.selected}).map(function(t){var a="_value"in t?t._value:t.value;return a});t.$set(t.reports,"type",a.target.multiple?e:e[0])}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("請選擇違規性質")]),s("option",{attrs:{value:"內容包含色情、暴力等不法言論"}},[t._v("內容包含色情、暴力等不法言論")]),s("option",{attrs:{value:"侵權、抄襲問題"}},[t._v("侵權、抄襲問題")]),s("option",{attrs:{value:"內容含廣告或內容與音樂不相關"}},[t._v("內容含廣告或內容與音樂不相關")]),s("option",{attrs:{value:"其他"}},[t._v("其他")])]),t.errors.has("違規性質")?s("p",{staticClass:"text-danger"},[t._v("\n                "+t._s(t.errors.first("違規性質"))+"\n              ")]):t._e(),s("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:10",expression:"'required|min:10'"},{name:"model",rawName:"v-model",value:t.reports.msg,expression:"reports.msg"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("理由及證據")},attrs:{id:"message-text",rows:"6",name:"理由及證據",placeholder:"請說明舉報理由及證據"},domProps:{value:t.reports.msg},on:{input:function(a){a.target.composing||t.$set(t.reports,"msg",a.target.value)}}}),t.errors.has("理由及證據")?s("p",{staticClass:"text-danger"},[t._v("\n                "+t._s(t.errors.first("理由及證據"))+"\n              ")]):t._e()])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(a){return t.resetReportError(t.item.uid)}}},[t._v("取消")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(a){return t.report()}}},[t._v("送出")])])])])]),s("router-view",{attrs:{userData:t.userData}})],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("button",{staticClass:"btn btn-outline-light",attrs:{type:"button","data-toggle":"modal","data-target":"#partner-modal"}},[e("i",{staticClass:"fas fa-sliders-h"}),t._v(" 快速篩選 ")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[t._v("快速篩選")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-outline-secondary btn-icon",attrs:{type:"button"}},[e("i",{staticClass:"fas fa-map-marker-alt"})])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),e("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("確定")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("label",{staticClass:"col-form-label",attrs:{for:"message-text"}},[t._v("請說明舉報原因 "),e("small",[t._v("檢舉文章編號("),e("b"),t._v(")")])])}],o=(e("ac6a"),e("456d"),e("8aa5")),r=e.n(o),n=e("578a"),l={data:function(){return{isLoading:!1,showData:[],userData:null,tempDom:{filterInput:"",filterItem:["全部","編曲/作詞","主唱","合唱","貝斯手","電子琴手","提琴樂手","電吉他手","木吉他手","爵士鼓手","鋼琴手","木箱鼓手","DJ","B-BOX夥伴","阿卡貝拉夥伴","長笛手","薩克斯風樂手","木管樂手","銅管樂手(法國號,小號,低音大號,長號等)","吹管類樂手(笛,蕭,嗩吶,笙)","彈拔類樂手(琵琶,箏,揚琴,中阮)","拉弦類樂手(胡)","打擊鼓手(大鼓,小軍鼓)","其他"],selectCity:"",selectNeed:"全部",login:!1,loginopened:!1},tempData:{allData:[],options:["全部","編曲/作詞","主唱","合唱","貝斯手","電子琴手","提琴樂手","電吉他手","木吉他手","爵士鼓手","鋼琴手","木箱鼓手","DJ","B-BOX夥伴","阿卡貝拉夥伴","長笛手","薩克斯風樂手","木管樂手","銅管樂手(法國號,小號,低音大號,長號等)","吹管類樂手(笛,蕭,嗩吶,笙)","彈拔類樂手(琵琶,箏,揚琴,中阮)","拉弦類樂手(胡)","打擊鼓手(大鼓,小軍鼓)","其他"]},reports:{id:"",type:"",msg:""}}},watch:{"tempDom.filterInput":{handler:function(t){var a=this;a.tempDom.filterItem=a.tempData.options.map(function(a,e,s){return-1!==a.indexOf(t)&&a})}},"tempDom.selectCity":{handler:function(t){var a=this;a.filterData()}},"tempDom.selectNeed":{handler:function(t){var a=this;a.filterData()}}},components:{Login:n["a"]},methods:{getData:function(){var t=this;t.isLoading=!0;var a="".concat("https://glacial-bayou-94392.herokuapp.com","/getPostData");t.$http.post(a,{url:"/partner"}).then(function(a){var e=a.data,s=Object.keys(e);t.tempData.allData=s.map(function(t){return e[t]}),t.showData=t.tempData.allData,t.isLoading=!1})},filterData:function(){var t=this;if(t.tempDom.selectCity&&"全部"!==t.tempDom.selectNeed){var a=t.tempData.allData.filter(function(a){return a.city===t.tempDom.selectCity&&t.cityData(a.need)});t.showData=a}else if(t.tempDom.selectCity){var e=t.tempData.allData.filter(function(a){return a.city===t.tempDom.selectCity});t.showData=e}else if("全部"!==t.tempDom.selectNeed){var s=t.tempData.allData.filter(function(a){return t.cityData(a.need)});t.showData=s}else t.showData=t.tempData.allData},cityData:function(t){var a=this,e=Object.keys(t).map(function(a){return t[a]});return-1!==e.indexOf(a.tempDom.selectNeed)},getUserData:function(){var t=this,a="".concat("https://glacial-bayou-94392.herokuapp.com","/getData");r.a.auth().onAuthStateChanged(function(e){e?t.$http.post(a,{url:"users/".concat(e.uid,"/basic/")}).then(function(a){t.userData=a.data}):t.userData=null})},report:function(){var t=this,a="\n        <h1>檢舉通知</h1>\n        <b>貼文編碼: ".concat(t.reports.id,"</b>\n        <p>舉報原因: ").concat(t.reports.type,"</p>\n        <p>理由及證據:<br> ").concat(t.reports.msg,"</p>\n        <hr>\n        <h2>舉報人資訊</h2>\n        <b>舉報人 email: ").concat(t.userData.email,"</b>\n        <p>舉報人暱稱: ").concat(t.reports.displayName,"</p>\n      ");this.$validator.validate().then(function(e){e&&t.sendReportMail(a)})},sendReportMail:function(t){var a=this,e="".concat("https://glacial-bayou-94392.herokuapp.com","/report");a.isLoading=!0,this.$http.post(e,{str:t}).then(function(t){a.isLoading=!1}).catch(function(t){console.error("錯誤",t)})},resetReportError:function(t){this.errors.clear(),this.reports.id=t,this.reports.type="",this.reports.msg=""}},created:function(){var t=this;t.$bus.$on("close:login",function(a){t.tempDom.login=a}),t.getData(),t.getUserData()}},c=l,m=e("2877"),p=Object(m["a"])(c,s,i,!1,null,"50cc7c33",null);a["default"]=p.exports},b9fd:function(t,a,e){t.exports=e.p+"img/left-menu.4d586541.png"}}]);
//# sourceMappingURL=chunk-69f6e118.78fa30e7.js.map