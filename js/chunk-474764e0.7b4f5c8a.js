(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-474764e0"],{"456d":function(t,e,a){var s=a("4bf8"),i=a("0d58");a("5eda")("keys",function(){return function(t){return i(s(t))}})},"5eda":function(t,e,a){var s=a("5ca1"),i=a("8378"),r=a("79e5");t.exports=function(t,e){var a=(i.Object||{})[t]||Object[t],o={};o[t]=e(a),s(s.S+s.F*r(function(){a(1)}),"Object",o)}},ac6a:function(t,e,a){for(var s=a("cadf"),i=a("0d58"),r=a("2aba"),o=a("7726"),n=a("32e9"),l=a("84f2"),c=a("2b4c"),u=c("iterator"),d=c("toStringTag"),m=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(p),f=0;f<v.length;f++){var h,_=v[f],g=p[_],D=o[_],C=D&&D.prototype;if(C&&(C[u]||n(C,u,m),C[d]||n(C,d,_),l[_]=m,g))for(h in s)C[h]||r(C,h,s[h],!0)}},b084:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[t.tempDom.login?s("Login"):t._e(),s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[s("img",{attrs:{alt:"Meason",src:a("333e"),width:"100"}})]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-lg-3 col-md-3 control"},[s("img",{staticClass:"left-menu-bg-img",attrs:{src:a("b9fd"),alt:"玩音樂"}}),s("div",{staticClass:"con"},[s("h2",[t._v("找夥伴")]),s("hr"),s("div",{staticClass:"selector sticky"},[t._m(0),t.userData?s("router-link",{staticClass:"btn btn-outline-light mt-2",attrs:{to:"/partner/creat",title:"發佈找夥伴文"}},[s("i",{staticClass:"fas fa-edit"}),t._v(" 發佈貼文\n          ")]):s("button",{staticClass:"btn btn-outline-light mt-2",attrs:{title:"發佈找夥伴文"},on:{click:function(e){t.tempDom.login=!0,t.tempDom.loginopened=!1}}},[s("i",{staticClass:"fas fa-edit"}),t._v(" 發佈貼文\n          ")])],1)])]),s("div",{staticClass:"col-lg-9 col-md-9 right-content"},[t.tempDom.selectCity||"全部"!==t.tempDom.selectNeed?s("h3",[t._v("\n        搜尋結果:　\n        "),t.tempDom.selectCity?s("b",{staticClass:"filter-result"},[t._v("\n          "+t._s(t.tempDom.selectCity)+"\n          "),s("span",{attrs:{"aria-hidden":"true"},on:{click:function(e){t.tempDom.selectCity=""}}},[t._v("×")])]):t._e(),"全部"!==t.tempDom.selectNeed?s("b",{staticClass:"filter-result"},[t._v("\n          "+t._s(t.tempDom.selectNeed)+"\n          "),s("span",{attrs:{"aria-hidden":"true"},on:{click:function(e){t.tempDom.selectNeed="全部"}}},[t._v("×")])]):t._e()]):t._e(),t.tempData.allData?s("div",{staticClass:"content-info"},t._l(t.showData,function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:e.display&&e.legal,expression:"item.display && item.legal"}],key:e.uid,staticClass:"content-item"},[s("router-link",{staticClass:"pic img-thumbnail",style:{backgroundImage:"url('"+e.picURL+"')"},attrs:{to:"partner/post/"+e.uid,title:e.title,tag:"div"}}),s("div",{staticClass:"info"},[s("div",{staticClass:"title"},[s("h4",[t._v(t._s(e.type))]),s("h3",[s("router-link",{attrs:{to:"partner/post/"+e.uid,title:e.title}},[t._v("\n                  "+t._s(e.title)+"\n                ")])],1)]),s("div",{staticClass:"summary"},[t._v("\n              簡介: "+t._s(e.bio.slice(0,70))+"\n              "),e.bio.length>70?s("span",[t._v("...")]):t._e()]),s("div",{staticClass:"else-info"},[s("article",[s("p",[s("i",{staticClass:"fas fa-map-marker-alt"}),s("span",[t._v(t._s(e.city))])]),s("p",[s("i",{staticClass:"fas fa-hand-paper"}),s("span",{staticClass:"need"},t._l(e.need,function(e){return s("span",{key:e},[t._v(t._s(e))])}),0)])]),s("a",{staticClass:"else-btn",attrs:{href:"#",title:"檢舉貼文"},on:{click:function(a){return a.preventDefault(),t.resetReportError(e.uid)}}},[s("i",{staticClass:"fas fa-ellipsis-h"}),s("p",{attrs:{"data-toggle":"modal","data-target":"#reportmodal"}},[t._v("檢舉")])])])])],1)}),0):t._e()])]),s("div",{staticClass:"modal fade",attrs:{id:"partner-modal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(1),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"input-group mb-3"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.filterInput,expression:"tempDom.filterInput"}],staticClass:"form-control",attrs:{type:"text",placeholder:"♫ Search","aria-label":"","aria-describedby":"basic-addon1"},domProps:{value:t.tempDom.filterInput},on:{input:function(e){e.target.composing||t.$set(t.tempDom,"filterInput",e.target.value)}}})])])]),s("div",{staticClass:"row",attrs:{id:"instrumentItem"}},t._l(t.tempDom.filterItem,function(e,a){return s("div",{directives:[{name:"show",rawName:"v-show",value:e,expression:"item"}],key:a,staticClass:"col-md-4 col-sm-4 col-6"},[s("div",{staticClass:"radio"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.selectNeed,expression:"tempDom.selectNeed"}],attrs:{type:"radio",name:"radio",id:"radio"+a},domProps:{value:e,checked:t._q(t.tempDom.selectNeed,e)},on:{change:function(a){return t.$set(t.tempDom,"selectNeed",e)}}}),s("label",{attrs:{for:"radio"+a}},[t._v("\n                  "+t._s(e)+"\n                ")])])])}),0),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("hr"),s("div",{staticClass:"input-group mb-3 first"},[t._m(2),s("select",{directives:[{name:"model",rawName:"v-model",value:t.tempDom.selectCity,expression:"tempDom.selectCity"}],staticClass:"custom-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.tempDom,"selectCity",e.target.multiple?a:a[0])}}},[s("option",{attrs:{value:""}},[t._v("請選擇")]),s("option",{attrs:{value:"台北市"}},[t._v("台北市")]),s("option",{attrs:{value:"新北市"}},[t._v("新北市")]),s("option",{attrs:{value:"桃園縣"}},[t._v("桃園縣")]),s("option",{attrs:{value:"台中市"}},[t._v("台中市")]),s("option",{attrs:{value:"台南市"}},[t._v("台南市")]),s("option",{attrs:{value:"高雄市"}},[t._v("高雄市")]),s("option",{attrs:{value:"基隆市"}},[t._v("基隆市")]),s("option",{attrs:{value:"新竹縣"}},[t._v("新竹縣")]),s("option",{attrs:{value:"嘉義縣"}},[t._v("嘉義縣")]),s("option",{attrs:{value:"苗栗縣"}},[t._v("苗栗縣")]),s("option",{attrs:{value:"彰化縣"}},[t._v("彰化縣")]),s("option",{attrs:{value:"南投縣"}},[t._v("南投縣")]),s("option",{attrs:{value:"雲林縣"}},[t._v("雲林縣")]),s("option",{attrs:{value:"屏東縣"}},[t._v("屏東縣")]),s("option",{attrs:{value:"宜蘭縣"}},[t._v("宜蘭縣")]),s("option",{attrs:{value:"花蓮縣"}},[t._v("花蓮縣")]),s("option",{attrs:{value:"台東縣"}},[t._v("台東縣")]),s("option",{attrs:{value:"澎湖縣"}},[t._v("澎湖縣")]),s("option",{attrs:{value:"金門縣"}},[t._v("金門縣")])])])])])]),t._m(3)])])]),s("div",{staticClass:"modal fade",attrs:{id:"reportmodal","data-backdrop":"false",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body"},[s("form",[s("div",{staticClass:"form-group mb-0"},[t._m(4),s("select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.reports.type,expression:"reports.type"}],staticClass:"custom-select mb-2",class:{"is-invalid":t.errors.has("違規性質")},attrs:{name:"違規性質"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.reports,"type",e.target.multiple?a:a[0])}}},[s("option",{attrs:{disabled:"",selected:"",value:""}},[t._v("請選擇違規性質")]),s("option",{attrs:{value:"內容包含色情、暴力等不法言論"}},[t._v("內容包含色情、暴力等不法言論")]),s("option",{attrs:{value:"侵權、抄襲問題"}},[t._v("侵權、抄襲問題")]),s("option",{attrs:{value:"內容含廣告或內容與音樂不相關"}},[t._v("內容含廣告或內容與音樂不相關")]),s("option",{attrs:{value:"其他"}},[t._v("其他")])]),t.errors.has("違規性質")?s("p",{staticClass:"text-danger"},[t._v("\n                "+t._s(t.errors.first("違規性質"))+"\n              ")]):t._e(),s("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:10",expression:"'required|min:10'"},{name:"model",rawName:"v-model",value:t.reports.msg,expression:"reports.msg"}],staticClass:"form-control",class:{"is-invalid":t.errors.has("理由及證據")},attrs:{id:"message-text",rows:"6",name:"理由及證據",placeholder:"請說明舉報理由及證據"},domProps:{value:t.reports.msg},on:{input:function(e){e.target.composing||t.$set(t.reports,"msg",e.target.value)}}}),t.errors.has("理由及證據")?s("p",{staticClass:"text-danger"},[t._v("\n                "+t._s(t.errors.first("理由及證據"))+"\n              ")]):t._e()])])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.resetReportError(t.item.uid)}}},[t._v("取消")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.report()}}},[t._v("送出")])])])])]),s("router-view",{attrs:{userData:t.userData}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn btn-outline-light",attrs:{type:"button","data-toggle":"modal","data-target":"#partner-modal"}},[a("i",{staticClass:"fas fa-sliders-h"}),t._v(" 快速篩選 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[t._v("快速篩選")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("button",{staticClass:"btn btn-outline-secondary btn-icon",attrs:{type:"button"}},[a("i",{staticClass:"fas fa-map-marker-alt"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-outline-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("確定")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"col-form-label",attrs:{for:"message-text"}},[t._v("請說明舉報原因 "),a("small",[t._v("檢舉文章編號("),a("b"),t._v(")")])])}],r=(a("ac6a"),a("456d"),a("8aa5")),o=a.n(r),n=a("578a"),l={data:function(){return{isLoading:!1,showData:[],userData:null,tempDom:{filterInput:"",filterItem:["全部","編曲/作詞","主唱","合唱","貝斯手","電子琴手","提琴樂手","電吉他手","木吉他手","爵士鼓手","鋼琴手","木箱鼓手","DJ","B-BOX夥伴","阿卡貝拉夥伴","長笛手","薩克斯風樂手","木管樂手","銅管樂手(法國號,小號,低音大號,長號等)","吹管類樂手(笛,蕭,嗩吶,笙)","彈拔類樂手(琵琶,箏,揚琴,中阮)","拉弦類樂手(胡)","打擊鼓手(大鼓,小軍鼓)","其他"],selectCity:"",selectNeed:"全部",login:!1,loginopened:!1},tempData:{allData:[],options:["全部","編曲/作詞","主唱","合唱","貝斯手","電子琴手","提琴樂手","電吉他手","木吉他手","爵士鼓手","鋼琴手","木箱鼓手","DJ","B-BOX夥伴","阿卡貝拉夥伴","長笛手","薩克斯風樂手","木管樂手","銅管樂手(法國號,小號,低音大號,長號等)","吹管類樂手(笛,蕭,嗩吶,笙)","彈拔類樂手(琵琶,箏,揚琴,中阮)","拉弦類樂手(胡)","打擊鼓手(大鼓,小軍鼓)","其他"]},reports:{id:"",type:"",msg:""}}},watch:{"tempDom.filterInput":{handler:function(t){var e=this;e.tempDom.filterItem=e.tempData.options.map(function(e,a,s){return-1!==e.indexOf(t)&&e})}},"tempDom.selectCity":{handler:function(t){var e=this;e.filterData()}},"tempDom.selectNeed":{handler:function(t){var e=this;e.filterData()}}},components:{Login:n["a"]},methods:{getData:function(){var t=this;t.isLoading=!0;var e="".concat("http://127.0.0.1:3000","/getPostData");t.$http.post(e,{url:"/partner"}).then(function(e){var a=e.data,s=Object.keys(a);t.tempData.allData=s.map(function(t){return a[t]}),t.showData=t.tempData.allData,t.isLoading=!1})},filterData:function(){var t=this;if(t.tempDom.selectCity&&"全部"!==t.tempDom.selectNeed){var e=t.tempData.allData.filter(function(e){return e.city===t.tempDom.selectCity&&t.cityData(e.need)});t.showData=e}else if(t.tempDom.selectCity){var a=t.tempData.allData.filter(function(e){return e.city===t.tempDom.selectCity});t.showData=a}else if("全部"!==t.tempDom.selectNeed){var s=t.tempData.allData.filter(function(e){return t.cityData(e.need)});t.showData=s}else t.showData=t.tempData.allData},cityData:function(t){var e=this,a=Object.keys(t).map(function(e){return t[e]});return-1!==a.indexOf(e.tempDom.selectNeed)},getUserData:function(){var t=this,e="".concat("http://127.0.0.1:3000","/getData");o.a.auth().onAuthStateChanged(function(a){a?t.$http.post(e,{url:"users/".concat(a.uid,"/basic/")}).then(function(e){t.userData=e.data}):t.userData=null})},report:function(){var t=this,e="\n        <h1>檢舉通知</h1>\n        <b>貼文編碼: ".concat(t.reports.id,"</b>\n        <p>舉報原因: ").concat(t.reports.type,"</p>\n        <p>理由及證據:<br> ").concat(t.reports.msg,"</p>\n        <hr>\n        <h2>舉報人資訊</h2>\n        <b>舉報人 email: ").concat(t.userData.email,"</b>\n        <p>舉報人暱稱: ").concat(t.reports.displayName,"</p>\n      ");this.$validator.validate().then(function(a){a&&t.sendReportMail(e)})},sendReportMail:function(t){var e=this,a="".concat("http://127.0.0.1:3000","/report");e.isLoading=!0,this.$http.post(a,{str:t}).then(function(t){e.isLoading=!1}).catch(function(t){console.error("錯誤",t)})},resetReportError:function(t){this.errors.clear(),this.reports.id=t,this.reports.type="",this.reports.msg=""}},created:function(){var t=this;t.$bus.$on("close:login",function(e){t.tempDom.login=e}),t.getData(),t.getUserData()}},c=l,u=a("2877"),d=Object(u["a"])(c,s,i,!1,null,"50cc7c33",null);e["default"]=d.exports},b9fd:function(t,e,a){t.exports=a.p+"img/left-menu.4d586541.png"}}]);
//# sourceMappingURL=chunk-474764e0.7b4f5c8a.js.map