(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70e8d39d"],{1057:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAXCAYAAAB50g0VAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkU5NUNBREI4QjVBODExRTk5QTZBOTgwMUYxQTRBODA4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkU5NUNBREI5QjVBODExRTk5QTZBOTgwMUYxQTRBODA4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTk1Q0FEQjZCNUE4MTFFOTlBNkE5ODAxRjFBNEE4MDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTk1Q0FEQjdCNUE4MTFFOTlBNkE5ODAxRjFBNEE4MDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5DtXUFAAAALklEQVR42uzOMQEAAAgDILV/59nA2wMS0Enqs6nnBAUFBQUFBQUFBQUFBQ8rwACRXQMrSS2EtwAAAABJRU5ErkJggg=="},"4def":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"row"},[t.dom.login?s("Login"):t._e(),s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(i){t.isLoading=i}}},[s("img",{attrs:{alt:"Meason",src:e("333e"),width:"100"}})]),s("div",{staticClass:"col-12"},[s("div",{staticClass:"user-title"},[s("h2",[s("i",{staticClass:"fas fa-compact-disc"}),t._v("\n         我的作品\n        "),t.tempDom.deleteOpen?s("span",[t._v(" - 管理模式")]):t._e()]),t.tempDom.deleteOpen?s("button",{staticClass:"btn btn-outline-dark btn-sm",attrs:{type:"button"},on:{click:function(i){t.tempDom.deleteOpen=!1}}},[t._v("退出管理模式")]):s("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{type:"button"},on:{click:function(i){t.tempDom.deleteOpen=!0}}},[t._v("管理音樂")])])]),t._l(t.songList,function(i,a){return s("div",{key:a,staticClass:"col-lg-4 col-md-6 col-sm-4"},[t.userData?s("a",{staticClass:"song-likes",attrs:{href:"#",title:"加入最愛"},domProps:{innerHTML:t._s(t.comLike(i.like))},on:{click:function(e){return e.preventDefault(),t.liked(i)}}}):s("a",{staticClass:"song-likes",attrs:{href:"#",title:"加入最愛"},on:{click:function(i){i.preventDefault(),t.dom.login=!0,t.dom.opened=!1}}},[s("i",{staticClass:"far fa-heart"})]),s("div",{staticClass:"music-con"},[s("div",{staticClass:"photo",class:{playing:t.player.id===i.id},style:{backgroundImage:"url("+i.cover+")"},on:{click:function(i){return t.togglePlay(a)}}},[s("img",{attrs:{src:e("1057"),width:"100%",alt:""}}),t._m(0,!0),s("p",{staticClass:"views"},[t._v(t._s(i.view)+" "),s("small",[t._v("瀏覽")])])]),s("div",{staticClass:"text"},[s("router-link",{attrs:{to:"/music/"+i.id,tag:"h3"}},[t._v(t._s(i.name))]),s("h4",{staticClass:"type"},[s("i",{staticClass:"fas fa-music"}),s("p",{staticClass:"type"},t._l(i.type,function(i){return s("span",{key:i},[t._v(t._s(i))])}),0)])],1),s("div",{staticClass:"artist"},[s("router-link",{attrs:{to:"/user",title:i.artist}},[s("i",{staticClass:"fas fa-user"}),t._v(" "+t._s(i.artist)+"\n        ")]),i.like?s("span",[t._v(t._s(i.like.length)+" 收藏")]):t._e()],1),t.tempDom.deleteOpen?s("ul",{staticClass:"edit-con animated fadeInUp"},[s("li",[s("router-link",{attrs:{to:"music-editor/"+i.id}},[t._v("編輯")])],1),s("li",{on:{click:function(e){return t.deleteMusic(i)}}},[t._v("刪除")])]):t._e()])])})],2)},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("button",{staticClass:"click"},[e("i",{staticClass:"far fa-play-circle"})])}],n=(e("8615"),e("456d"),e("ac6a"),e("8aa5")),c=e.n(n),o=e("578a"),l={name:"UserPorfile",props:["userData"],data:function(){return{isLoading:!1,dom:{login:!1,opened:!1},player:{id:"",pause:!1},songList:[],tempDom:{deleteOpen:!1}}},components:{Login:o["a"]},methods:{togglePlay:function(t){var i=this,e=[];i.player.pause&&i.songList[t].id===i.player.id?(this.$bus.$emit("audio:pause"),i.player.pause=!1,i.player.id=""):(i.songList.forEach(function(t){e.push(t)}),e.unshift(i.songList[t]),e.splice(t+1,1),this.$bus.$emit("audio:list",e),i.player.pause=!0)},getMusicData:function(){var t=this,i="".concat("https://glacial-bayou-94392.herokuapp.com","/getPostData"),e="users/".concat(t.userData.uid,"/music/");t.isLoading=!0,t.$http.post(i,{url:e}).then(function(i){t.songList=i.data,t.isLoading=!1}).then(function(i){t.songList.forEach(function(t){t.like&&(t.like=Object.keys(t.like))})}).then(function(i){t.songList.forEach(function(t){t.type&&(t.type=Object.values(t.type))})}).catch(function(i){t.isLoading=!1})},comLike:function(t){var i=this,e=i.userData.uid,s="";return s=Array.isArray(t)&&-1!==t.indexOf(e)?'<i class="fas fa-heart"></i>':'<i class="far fa-heart"></i>',s},liked:function(t){var i=this,e=i.userData.uid;i.userData&&(t.like&&-1!==t.like.indexOf(e)?i.sendLikeAPI(t,"unlike"):i.sendLikeAPI(t,"likes"))},sendLikeAPI:function(t,i){var e=this,s="".concat("https://glacial-bayou-94392.herokuapp.com","/likeMusic"),a={method:i,userId:e.userData.uid,musicId:t.id,posterId:t.poster_uid};e.$http.post(s,{reqData:a}).then(function(t){t.data.success&&e.getMusicData()})},deleteMusic:function(t){var i=this,e=confirm("確定要刪除?"),s="".concat("https://glacial-bayou-94392.herokuapp.com","/deleteMusic"),a=c.a.storage().ref("music/"+t.fileName),n={userId:i.userData.uid,musicId:t.id,posterId:t.poster_uid};1==e&&i.$http.post(s,{reqData:n}).then(function(t){t.data.success&&a.delete().then(function(){i.getMusicData()}).catch(function(t){alert("刪除中發生錯誤，請嘗試重新整理後重試")})})}},created:function(){var t=this;t.getMusicData(),t.$bus.$on("current:id",function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t.player.id=i}),t.$bus.$on("close:login",function(i){t.dom.login=i})}},u=l,r=(e("f8f8"),e("2877")),d=Object(r["a"])(u,s,a,!1,null,"7c9ceb9e",null);i["default"]=d.exports},"969c":function(t,i,e){},f8f8:function(t,i,e){"use strict";var s=e("969c"),a=e.n(s);a.a}}]);
//# sourceMappingURL=chunk-70e8d39d.a82dc043.js.map